<form id="modificaLimitiForm" name="modificaLimitiForm">

  
  
  <div class="col-lg-12 col-md-6 col-sm-6">
    <div class="col-lg-12" ng-repeat="limite in profilo.limiti">
      <div id="limitiImporto" class="main-widget">
        <h2 class="main-widget-title">LIMITI</h2>
        <br>
        <h4 class="red">{{profilo.limiteDaModificare.descrizioneGruppo}}</h4>
        <hr class="separatore"/>
      
      <div class="box green-border" ng-show="profilo.limiteModificato">
        <div class="row">
          <div class="col-lg-12">
            <div class="box-content">
              <h4><i class="fa fa-check green"></i>&nbsp;&nbsp;{{'Limite modificato correttamente' | translate}}</h4>
            </div>
          </div>
        </div>
      </div>
        
        <table datatable="" dt-options="profilo.dtOptions" 
              id="elencoLimiti" 
              class="table table-bordered table-striped" cellspacing="0" width="100%">
  
          <thead>  
            <tr>
              <th></th>
              <th>Descrizione</th>
              <th>Limite</th>
              <th>Utilizzato</th>
              <th>Residuo</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td data-dt-column="{{profilo.limiteDaModificare.codiceGruppo}}_0"></td>
              <td>{{'Singola Operazione'|translate}}</td>
              <td>{{profilo.limiteDaModificare.propostaSingolaOperLimite || profilo.limiteDaModificare.singolaOperLimite }}</td>
              <td>{{ profilo.limiteDaModificare.singolaOperUtilizzato }}</td>
              <td>{{ profilo.limiteDaModificare.singolaOperResiduo }}</td>
              </tr>
            <tr>
              <td data-dt-column="{{profilo.limiteDaModificare.codiceGruppo}}_1"></td>

              <td>{{'Pagamenti Mensili'|translate}}</td>
              <td>{{ profilo.limiteDaModificare.propostaPagamentiMensiliLimite || profilo.limiteDaModificare.pagamentiMensiliLimite}}</td>
              <td>{{ profilo.limiteDaModificare.pagamentiMensiliUtilizzato}}</td>
              <td>{{ profilo.limiteDaModificare.pagamentiMensiliResiduo }}</td>
          </tr>
          <tr>
            <td data-dt-column="{{profilo.limiteDaModificare.codiceGruppo}}_2"></td>
            <td>{{'Pagamenti Giornaliero'|translate}}</td>
            <td>{{ profilo.limiteDaModificare.propostaPagamentiGiornalLimite || profilo.limiteDaModificare.pagamentiGiornalLimite }}</td>
            <td>{{ profilo.limiteDaModificare.pagamentiGiornalUtilizzato }}</td>
            <td>{{ profilo.limiteDaModificare.pagamentiGiornalResiduo }}</td>
          </tr>
          <tr>
            <td data-dt-column="{{profilo.limiteDaModificare.codiceGruppo}}_3"></td>
            <td>{{'Numero Operazioni Giornaliere'|translate}}</td>
            <td>{{ profilo.limiteDaModificare.propostaNumeroOperGiornLimite || profilo.limiteDaModificare.numeroOperGiornLimite  | valueIfNegative  }}</td>
            <td>{{ profilo.limiteDaModificare.numeroOperGiornUtilizzato }}</td>
            <td>{{ profilo.limiteDaModificare.numeroOperGiornlResiduo }}</td>
          </tr>
</tbody>
</table>
  
<div ng-if="profilo.otp">
  <div uic-otp otp-model="profilo.codiceDispositivo" otp-name="otp" otp-dispositivo="N"></div>      
</div>

<div class="col-lg-12 col-md-4 col-sm-4 col-xs-12 text-right" ng-if="!profilo.limiteModificato">   	
   
        <a ng-click="profilo.annullaModificaLimiti()" class="btn btn-custom">
          <i class="fa fa-chevron-left"></i> Annulla<strong></strong>
        </a>	
        <a ng-click="profilo.modificaLimite(profilo.limiteDaModificare)" class="btn btn-custom">
          <i class="fa fa-chevron-left"></i> Modifica <strong></strong>
        </a>	
        
        <a ng-click="profilo.mostraOtp()" class="btn btn-custom" ng-if="!profilo.otp">
          Conferma 
        </a>

        <a ng-click="!(modificaLimitiForm.$invalid) && profilo.confermaModificaLimiti()" class="btn btn-custom"  ng-if="profilo.otp"
           ng-disabled="modificaLimitiForm.$invalid" >
        Conferma
        </a>
</div>
<div class="col-lg-12 col-md-4 col-sm-4 col-xs-12 text-right" ng-if="profilo.limiteModificato">
 <a class="btn btn-custom"  ng-click="profilo.visualizzalimiti()">
    Visualizza limiti d'importo<strong><i class="fa fa-chevron-right"></i></strong>
  </a>	
</div>

</div>   
</div>




<div class="row margintop20">
  <div class="col-lg-8 col-md-8 col-sm-8 col-xs-12">
    <a href="#" class="btn btn-custom inverted" tooltip-placement="top" uib-tooltip="Inserisci l'operazione tra i tuoi preferiti"><strong><i class="fa fa-star"></i></strong></a>	
    <a href="#" class="btn btn-custom inverted" tooltip-placement="top" uib-tooltip="Stampa"><strong><i class="fa fa-print"></i></strong></a>
    <a href="#" class="btn btn-custom inverted" tooltip-placement="top" uib-tooltip="Lorem ipsum dolor sit amet, consectetur adipiscing elit"><strong><i class="fa fa-info-circle"></i></strong></a>
  </div>
</div>
</div>

</form>